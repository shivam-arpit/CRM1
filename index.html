<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>SalesBuddy</title>

  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="app" id="app">

  <!-- DASHBOARD VIEW (Default) -->
  <div id="dashboardView" class="screen active">
    <!-- HEADER -->
    <header>
      <div class="header-row">
        <div>
          <div class="app-title">SalesBuddy</div>
          <div class="app-subtitle">Your AI Sales Assistant</div>
        </div>

        <div class="header-icons">
          <!-- Online/Offline Status Icon -->
          <div class="status-icon" id="statusIcon" title="Online">
            <div class="status-dot online"></div>
          </div>
          
          <!-- Notification Icon -->
          <div class="notification" id="notificationBtn">
            üîî <span id="notificationCount">6</span>
            <div class="notification-dropdown hidden" id="notificationDropdown">
              <!-- Notifications loaded dynamically -->
            </div>
          </div>
        </div>
      </div>

      <div class="search-box" id="searchBox">
        üîç <input type="text" placeholder="Search customers, leads, tasks..." class="search-input" id="searchInput">
      </div>
    </header>

    <!-- DASHBOARD MAIN -->
    <main>
      <!-- AI Insight -->
      <div class="ai-insight">
        <div class="ai-left">
          <div class="ai-icon">‚ú®</div>
          <div>
            <h4>AI Insight</h4>
            <p>3 leads need follow-up today. 2 opportunities at risk.</p>
          </div>
        </div>
        <span class="view-all" id="viewInsightsBtn">View All</span>
      </div>

      <!-- CARDS -->
      <div class="cards">
        <!-- SALES CARD -->
        <div class="card sales-card" id="salesTargetCard">
          <div class="card-icon blue">üéØ</div>
          <div class="card-title">Sales Target</div>
          <div class="card-sub">Q1 2024</div>
          <div class="card-value">‚Çπ45L / ‚Çπ50L</div>
          <div class="card-success">90%</div>
        </div>

        <div class="card" id="tasksCard">
          <span class="badge" id="taskBadgeCount">8</span>
          <div class="card-icon blue">‚úì</div>
          <div class="card-title">Tasks</div>
          <div class="card-sub">Due Today</div>
          <div class="card-value">8</div>
        </div>

        <div class="card" id="leadsCard">
          <span class="badge" id="leadBadgeCount">24</span>
          <div class="card-icon green">üë§</div>
          <div class="card-title">Leads</div>
          <div class="card-sub">New This Month</div>
          <div class="card-value">24</div>
        </div>

        <div class="card" id="opportunitiesCard">
          <span class="badge" id="oppBadgeCount">12</span>
          <div class="card-icon yellow">üìà</div>
          <div class="card-title">Opportunities</div>
          <div class="card-sub">New This Month</div>
          <div class="card-value">12</div>
        </div>

        <div class="card" id="proposalsCard">
          <span class="badge" id="propBadgeCount">7</span>
          <div class="card-icon teal">üìÑ</div>
          <div class="card-title">Proposals</div>
          <div class="card-sub">New This Month</div>
          <div class="card-value">7</div>
        </div>

        <div class="card" id="customersCard">
          <div class="card-icon green">üë•</div>
          <div class="card-title">Customers</div>
          <div class="card-sub">Active Accounts</div>
          <div class="card-value">156</div>
        </div>

        <div class="card" id="complaintsCard">
          <span class="badge red" id="complaintBadgeCount">3</span>
          <div class="card-icon orange">‚ö†</div>
          <div class="card-title">Customer Complaints</div>
          <div class="card-sub">Pending Resolution</div>
          <div class="card-value">3</div>
        </div>
        
        <!-- CUSTOMER VISITS CARD -->
        <div class="card" id="visitsCard">
          <span class="badge" id="visitBadgeCount">2</span>
          <div class="card-icon purple">üìç</div>
          <div class="card-title">Customer Visits</div>
          <div class="card-sub">This Month</div>
          <div class="card-value">2</div>
        </div>
      </div>
    </main>
  </div>

  <!-- SALES TARGET SCREEN - ENHANCED -->
  <section class="screen hidden" id="salesScreen">
    <header class="sub-header">
      <span class="back" id="backFromSales">‚Üê</span>
      <div>
        <h2>Sales Target</h2>
        <p id="salesTargetPeriod">Q1 2024 Performance</p>
      </div>
      <div class="time-range-selector">
        <select id="timeRangeSelect">
          <option value="q1">Q1 2024</option>
          <option value="q2">Q2 2024</option>
          <option value="q3">Q3 2024</option>
          <option value="q4">Q4 2024</option>
          <option value="monthly">Monthly View</option>
        </select>
      </div>
    </header>

    <main>
      <!-- CURRENT PROGRESS -->
      <div class="big-card">
        <div class="row">
          <div class="icon-box blue">üìà</div>
          <div>
            <h4>Current Progress</h4>
            <p id="currentPeriodText">January ‚Äì March 2024</p>
          </div>
        </div>

        <div class="amount">
          <span id="salesCurrentAmount">‚Çπ45,00,000</span> <span>/ <span id="salesTargetAmount">‚Çπ50,00,000</span></span>
        </div>

        <div class="progress-bar">
          <span id="salesProgressBar" style="width:90%"></span>
        </div>

        <div class="progress-text" id="salesProgressText">
          ‚úÖ 90% Complete ‚Äì You're ahead!
        </div>

        <div class="summary">
          <div class="summary-card success">
            <p>Achieved</p>
            <h3 id="achievedAmount">‚Çπ45L</h3>
          </div>
          <div class="summary-card info">
            <p>Remaining</p>
            <h3 id="remainingAmount">‚Çπ5L</h3>
          </div>
        </div>
      </div>

      <!-- MONTHLY BREAKDOWN - ENHANCED -->
      <div class="big-card">
        <div class="monthly-header">
          <h4>Monthly Breakdown</h4>
          <div class="color-legend">
            <span class="legend-item achieved"><i class="fas fa-circle"></i> Achieved</span>
            <span class="legend-item near"><i class="fas fa-circle"></i> Near Target</span>
            <span class="legend-item below"><i class="fas fa-circle"></i> Below Target</span>
          </div>
        </div>

        <div class="monthly-list" id="monthlyBreakdown">
          <!-- Will be populated by JavaScript -->
        </div>
      </div>
    </main>
  </section>

  <!-- LEADS LIST SCREEN - ENHANCED -->
  <section class="screen hidden" id="leadsScreen">
    <header class="sub-header">
      <span class="back" id="backFromLeads">‚Üê</span>
      <div>
        <h2>Leads</h2>
        <p id="leadsCountText">24 new this month</p>
      </div>
      <button class="edit-btn create-lead-btn" id="createLeadInHeader">
        <i class="fas fa-plus"></i>
      </button>
    </header>

    <div class="filter-section">
      <div class="search-box leads-search">
        üîç <input type="text" placeholder="Search leads..." class="search-input" id="leadsSearch">
      </div>
      <div class="filter-group">
        <select id="leadsAdvancedFilter" class="filter-select">
          <option value="all">All Leads</option>
          <option value="hot">Hot Leads</option>
          <option value="warm">Warm Leads</option>
          <option value="cold">Cold Leads</option>
          <option value="new">New (Last 7 days)</option>
          <option value="followup">Needs Follow-up</option>
          <option value="converted">Converted</option>
        </select>
        <button class="filter-btn" id="leadsFilterBtn">More Filters</button>
      </div>
    </div>

    <div class="filter-panel hidden" id="leadsFilterPanel">
      <div class="filter-group">
        <h5>Status</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="status" data-value="all">All</button>
          <button class="filter-option" data-filter="status" data-value="hot">Hot</button>
          <button class="filter-option" data-filter="status" data-value="warm">Warm</button>
          <button class="filter-option" data-filter="status" data-value="cold">Cold</button>
        </div>
      </div>
      <div class="filter-group">
        <h5>Region</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="region" data-value="all">All</button>
          <button class="filter-option" data-filter="region" data-value="north">North</button>
          <button class="filter-option" data-filter="region" data-value="south">South</button>
          <button class="filter-option" data-filter="region" data-value="east">East</button>
          <button class="filter-option" data-filter="region" data-value="west">West</button>
        </div>
      </div>
      <div class="filter-group">
        <h5>Source</h5>
        <div class="filter-options">
          <button class="filter-option" data-filter="source" data-value="website">Website</button>
          <button class="filter-option" data-filter="source" data-value="referral">Referral</button>
          <button class="filter-option" data-filter="source" data-value="event">Event</button>
          <button class="filter-option" data-filter="source" data-value="social">Social Media</button>
        </div>
      </div>
      <button class="clear-filters" id="clearLeadsFilters">Clear All</button>
    </div>

    <main class="leads-list" id="leadsListContainer">
      <div class="lead-card" data-status="hot" data-region="north" data-lead-id="1">
        <div class="lead-avatar">JS</div>
        <div class="lead-info">
          <div class="lead-header">
            <h4>John Smith</h4>
            <span class="lead-badge hot">Hot</span>
          </div>
          <p class="lead-company">Tech Innovations Inc</p>
          <p class="lead-detail">North Region ‚Ä¢</p>
          <div class="lead-actions">
            <button class="icon-btn" onclick="editLead('1')"><i class="fas fa-edit"></i></button>
            <button class="icon-btn"><i class="fas fa-phone"></i></button>
            <button class="icon-btn"><i class="fas fa-envelope"></i></button>
          </div>
        </div>
      </div>

      <div class="lead-card" data-status="warm" data-region="west" data-lead-id="2">
        <div class="lead-avatar">SJ</div>
        <div class="lead-info">
          <div class="lead-header">
            <h4>Sarah Johnson</h4>
            <span class="lead-badge warm">Warm</span>
          </div>
          <p class="lead-company">Digital Solutions</p>
          <p class="lead-detail">West Region ‚Ä¢</p>
          <div class="lead-actions">
            <button class="icon-btn" onclick="editLead('2')"><i class="fas fa-edit"></i></button>
            <button class="icon-btn"><i class="fas fa-phone"></i></button>
            <button class="icon-btn"><i class="fas fa-envelope"></i></button>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- TASKS LIST SCREEN - ENHANCED -->
  <section class="screen hidden" id="tasksScreen">
    <header class="sub-header">
      <span class="back" id="backFromTasks">‚Üê</span>
      <div>
        <h2>Tasks</h2>
        <p id="tasksCountText">8 due today</p>
      </div>
      <button class="edit-btn" id="bulkTaskActions">
        <i class="fas fa-ellipsis-v"></i>
      </button>
    </header>

    <div class="filter-section">
      <div class="search-box">
        üîç <input type="text" placeholder="Search tasks..." class="search-input" id="tasksSearch">
      </div>
      <div class="filter-group">
        <select id="tasksDateFilter" class="filter-select">
          <option value="all">All Dates</option>
          <option value="today">Today</option>
          <option value="tomorrow">Tomorrow</option>
          <option value="week">This Week</option>
          <option value="overdue">Overdue</option>
          <option value="future">Future</option>
        </select>
        <button class="filter-btn" id="tasksFilterBtn">Filter</button>
      </div>
    </div>

    <div class="multi-select-actions hidden" id="taskMultiSelectActions">
      <button class="multi-select-btn" id="markCompleteSelected">
        <i class="fas fa-check"></i> Mark Complete
      </button>
      <button class="multi-select-btn" id="deleteSelectedTasks">
        <i class="fas fa-trash"></i> Delete
      </button>
      <button class="multi-select-btn" id="cancelMultiSelect">
        <i class="fas fa-times"></i> Cancel
      </button>
    </div>

    <main class="tasks-list" id="tasksListContainer">
      <div class="task-item" data-priority="high" data-date="2024-03-18" data-task-id="1">
        <label class="task-checkbox multi-select">
          <input type="checkbox" class="task-select-checkbox" data-task-id="1">
          <span class="checkmark"></span>
        </label>
        <div class="task-info" onclick="toggleTaskDetails('1')">
          <div class="task-header">
            <h4>Follow up with ABC Corp</h4>
            <span class="task-badge high">High</span>
          </div>
          <p class="task-time">‚è∞ 10:00 AM ‚Ä¢ Due 2024-03-18</p>
        </div>
        <div class="task-expandable" id="task-details-1">
          <div class="task-detail-row">
            <span class="task-detail-label">Description:</span>
            <span class="task-detail-value">Call John Smith to discuss the enterprise license proposal</span>
          </div>
          <div class="task-detail-row">
            <span class="task-detail-label">Assigned To:</span>
            <span class="task-detail-value">Rahul Kumar</span>
          </div>
          <div class="task-detail-row">
            <span class="task-detail-label">Related Lead:</span>
            <span class="task-detail-value">John Smith - Tech Innovations</span>
          </div>
          <button class="action-btn" onclick="viewTaskDetail('1')">
            <i class="fas fa-external-link-alt"></i> View Full Details
          </button>
        </div>
      </div>

      <div class="task-item" data-priority="medium" data-date="2024-03-18" data-task-id="2">
        <label class="task-checkbox multi-select">
          <input type="checkbox" class="task-select-checkbox" data-task-id="2">
          <span class="checkmark"></span>
        </label>
        <div class="task-info" onclick="toggleTaskDetails('2')">
          <div class="task-header">
            <h4>Prepare proposal for XYZ Ltd</h4>
            <span class="task-badge medium">Medium</span>
          </div>
          <p class="task-time">‚è∞ 11:30 AM ‚Ä¢ Due 2024-03-18</p>
        </div>
        <div class="task-expandable" id="task-details-2">
          <div class="task-detail-row">
            <span class="task-detail-label">Description:</span>
            <span class="task-detail-value">Create comprehensive proposal including pricing, timeline, and implementation plan</span>
          </div>
          <div class="task-detail-row">
            <span class="task-detail-label">Assigned To:</span>
            <span class="task-detail-value">Priya Sharma</span>
          </div>
          <div class="task-detail-row">
            <span class="task-detail-label">Related Lead:</span>
            <span class="task-detail-value">Sarah Johnson - Digital Solutions</span>
          </div>
          <button class="action-btn" onclick="viewTaskDetail('2')">
            <i class="fas fa-external-link-alt"></i> View Full Details
          </button>
        </div>
      </div>
    </main>
  </section>

  <!-- LEAD DETAIL SCREEN -->
  <section class="screen hidden" id="leadDetailScreen">
    <header class="sub-header">
      <span class="back" id="backFromLeadDetail">‚Üê</span>
      <div>
        <h2>Lead Details</h2>
        <p id="leadDetailCompany">Tech Innovations Inc</p>
      </div>
      <button class="edit-btn" id="editLeadBtn">
        <i class="fas fa-edit"></i>
      </button>
    </header>

    <main class="lead-detail-content">
      <!-- Lead Header Card -->
      <div class="detail-header-card">
        <div class="lead-detail-avatar" id="leadDetailAvatar">JS</div>
        <div class="lead-detail-info">
          <div class="lead-detail-header">
            <h3 id="leadDetailName">John Smith</h3>
            <span class="lead-badge hot" id="leadDetailStatus">Hot</span>
          </div>
          <p class="lead-detail-value" id="leadDetailValue"></p>
        </div>
        <div class="lead-detail-actions">
          <button class="action-btn">
            <i class="fas fa-phone"></i> Call
          </button>
          <button class="action-btn">
            <i class="fas fa-envelope"></i> Email
          </button>
        </div>
      </div>

      <!-- Lead Details -->
      <div class="detail-section">
        <h4>Details</h4>
        <div class="detail-grid">
          <div class="detail-item">
            <i class="fas fa-map-marker-alt"></i>
            <div>
              <p class="detail-label">Region</p>
              <p class="detail-value" id="leadDetailRegion">North India</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-industry"></i>
            <div>
              <p class="detail-label">Industry</p>
              <p class="detail-value" id="leadDetailIndustry">Technology</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-user"></i>
            <div>
              <p class="detail-label">Assigned To</p>
              <p class="detail-value" id="leadDetailAssignedTo">Rahul Kumar</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-calendar"></i>
            <div>
              <p class="detail-label">Last Contact</p>
              <p class="detail-value" id="leadDetailLastContact">2024-03-15</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Tags -->
      <div class="detail-section">
        <h4>Tags</h4>
        <div class="tags-container" id="leadDetailTags">
          <span class="tag">Enterprise</span>
          <span class="tag">Q1 Priority</span>
          <span class="tag">Decision Maker</span>
        </div>
      </div>

      <!-- Tabs -->
      <div class="detail-tabs">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="chat">Chat</button>
          <button class="tab-btn" data-tab="activity">Activity</button>
          <button class="tab-btn" data-tab="documents">Documents</button>
        </div>
        
        <div class="tab-content active" id="chatTab">
          <div class="chat-history">
            <div class="chat-message ai">
              <div class="message-avatar">RK</div>
              <div class="message-content">
                <p>Just had a call with John. He's interested in the enterprise plan.</p>
                <span class="message-time">2 hours ago</span>
              </div>
            </div>
            <div class="chat-message ai">
              <div class="message-avatar">SS</div>
              <div class="message-content">
                <p>Great! Did he mention the budget?</p>
                <span class="message-time">1 hour ago</span>
              </div>
            </div>
          </div>
          <div class="chat-input-container">
            <input type="text" placeholder="Type a message..." class="chat-input-detail">
            <button class="send-btn"><i class="fas fa-paper-plane"></i></button>
          </div>
        </div>

        <div class="tab-content" id="activityTab">
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-plus"></i></div>
              <div class="activity-content">
                <p>Lead created</p>
                <span class="activity-time">Mar 1, 2024</span>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-sync-alt"></i></div>
              <div class="activity-content">
                <p>Updated status to Hot</p>
                <span class="activity-time">Mar 5, 2024</span>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" id="documentsTab">
          <div class="documents-list">
            <div class="document-item">
              <i class="fas fa-file-pdf"></i>
              <div>
                <p>Proposal_v1.pdf</p>
                <span>2.4 MB ‚Ä¢ Mar 12, 2024</span>
              </div>
              <button class="view-doc-btn">View</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- TASK DETAIL SCREEN -->
  <section class="screen hidden" id="taskDetailScreen">
    <header class="sub-header">
      <span class="back" id="backFromTaskDetail">‚Üê</span>
      <div>
        <h2>Task Details</h2>
        <p id="taskDetailDate">Due 2024-03-18</p>
      </div>
      <button class="edit-btn" id="editTaskBtn">
        <i class="fas fa-edit"></i>
      </button>
    </header>

    <main class="task-detail-content">
      <!-- Task Header -->
      <div class="detail-header-card">
        <div class="task-detail-header">
          <h3 id="taskDetailTitle">Follow up with ABC Corp</h3>
          <span class="task-badge high" id="taskDetailPriority">High</span>
        </div>
        <p class="task-detail-desc" id="taskDetailDescription">
          Call John Smith to discuss the enterprise license proposal. Make sure to address their concerns about pricing and implementation timeline.
        </p>
        <div class="task-detail-meta">
          <div class="meta-item">
            <i class="fas fa-clock"></i>
            <span id="taskDetailTime">10:00 AM</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-user"></i>
            <span id="taskDetailAssignedTo">Rahul Kumar</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-calendar"></i>
            <span id="taskDetailDueDate">2024-03-18</span>
          </div>
        </div>
      </div>

      <!-- Status Update -->
      <div class="detail-section">
        <h4>Update Status</h4>
        <div class="status-buttons">
          <button class="status-btn active">Pending</button>
          <button class="status-btn">In Progress</button>
          <button class="status-btn">Completed</button>
          <button class="status-btn">Cancelled</button>
        </div>
      </div>

      <!-- Related Lead -->
      <div class="detail-section">
        <h4>Related Lead</h4>
        <a href="#" class="related-lead-link" id="taskDetailRelatedLead">
          John Smith - Tech Innovations
        </a>
      </div>

      <!-- Tabs -->
      <div class="detail-tabs">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="comments">Comments</button>
          <button class="tab-btn" data-tab="activity">Activity</button>
        </div>
        
        <div class="tab-content active" id="commentsTab">
          <div class="comments-list">
            <div class="comment-item">
              <div class="comment-avatar">SS</div>
              <div class="comment-content">
                <div class="comment-header">
                  <span class="comment-author">Sarah Sales</span>
                  <span class="comment-time">Mar 16, 10:30 AM</span>
                </div>
                <p>Make sure to mention the Q1 discount offer.</p>
              </div>
            </div>
            <div class="comment-item">
              <div class="comment-avatar">RK</div>
              <div class="comment-content">
                <div class="comment-header">
                  <span class="comment-author">Rahul Kumar</span>
                  <span class="comment-time">Mar 16, 11:00 AM</span>
                </div>
                <p>Got it! I'll also prepare the ROI calculator.</p>
              </div>
            </div>
          </div>
          <div class="comment-input-container">
            <textarea placeholder="Add a comment..." rows="3" class="comment-input"></textarea>
            <button class="comment-btn">
              <i class="fas fa-comment"></i> Add Comment
            </button>
          </div>
        </div>

        <div class="tab-content" id="activityTabTask">
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-plus"></i></div>
              <div class="activity-content">
                <p>Created task</p>
                <span class="activity-time">Mar 15, 2024</span>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-check"></i></div>
              <div class="activity-content">
                <p>Accepted task</p>
                <span class="activity-time">Mar 15, 2024</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- IDEAS/INSIGHTS SCREEN -->
  <section class="screen hidden" id="ideasScreen">
    <header class="sub-header">
      <span class="back" id="backFromIdeas">‚Üê</span>
      <div>
        <h2>AI Insights</h2>
        <p>Smart recommendations for you</p>
      </div>
      <div class="notification" id="ideasNotification">
        üîî <span>3</span>
      </div>
    </header>

    <div class="search-box ideas-search">
      üîç <input type="text" placeholder="Search insights..." class="search-input" id="ideasSearch">
    </div>

    <!-- Summary Cards -->
    <div class="cards compact-cards">
      <div class="card success-card">
        <div class="card-icon green">üìà</div>
        <div class="card-title">Opportunities</div>
        <div class="card-value">5</div>
      </div>
      <div class="card primary-card">
        <div class="card-icon blue">üéØ</div>
        <div class="card-title">Actions</div>
        <div class="card-value">3</div>
      </div>
      <div class="card warning-card">
        <div class="card-icon yellow">‚ö†</div>
        <div class="card-title">Alerts</div>
        <div class="card-value">2</div>
      </div>
    </div>

    <main class="leads-list">
      <h3 class="section-title">
        <span class="sparkle-icon">‚ú®</span>
        Today's Insights
      </h3>
      
      <div id="insightsList">
        <!-- Insights loaded dynamically -->
      </div>
    </main>
  </section>

  <!-- PLANNER SCREEN - ENHANCED -->
  <section class="screen hidden" id="plannerScreen">
    <header class="sub-header">
      <span class="back" id="backFromPlanner">‚Üê</span>
      <div>
        <h2>Planner</h2>
        <p>Your schedule for today</p>
      </div>
      <button class="edit-btn" id="addEventHeaderBtn">
        <i class="fas fa-plus"></i>
      </button>
    </header>

    <!-- Week View -->
    <div class="week-view">
      <div class="week-nav">
        <button class="nav-btn" id="prevWeekBtn">‚Äπ</button>
        <button class="nav-btn today-btn" id="todayBtn">Today</button>
        <button class="nav-btn" id="nextWeekBtn">‚Ä∫</button>
      </div>
      
      <div class="calendar-days" id="calendarDays">
        <div class="calendar-date today">
          <div class="day-name">Sun</div>
          <div class="day-number">17</div>
        </div>
        <div class="calendar-date">
          <div class="day-name">Mon</div>
          <div class="day-number">18</div>
        </div>
        <div class="calendar-date selected">
          <div class="day-name">Tue</div>
          <div class="day-number">19</div>
        </div>
        <div class="calendar-date">
          <div class="day-name">Wed</div>
          <div class="day-number">20</div>
        </div>
        <div class="calendar-date">
          <div class="day-name">Thu</div>
          <div class="day-number">21</div>
        </div>
        <div class="calendar-date">
          <div class="day-name">Fri</div>
          <div class="day-number">22</div>
        </div>
        <div class="calendar-date">
          <div class="day-name">Sat</div>
          <div class="day-number">23</div>
        </div>
      </div>
    </div>

    <main class="tasks-list">
      <div class="section-header">
        <h3 id="plannerDateTitle">Today's Schedule</h3>
        <button class="add-btn" id="addEventBtn">
          <i class="fas fa-plus"></i> Add Event
        </button>
      </div>
      
      <div id="plannerEvents">
        <!-- Events loaded dynamically -->
      </div>
    </main>
  </section>

  <!-- OPPORTUNITIES SCREEN -->
  <section class="screen hidden" id="opportunitiesScreen">
    <header class="sub-header">
      <span class="back" id="backFromOpportunities">‚Üê</span>
      <div>
        <h2>Opportunities</h2>
        <p>12 new this month</p>
      </div>
    </header>

    <div class="filter-section">
      <div class="search-box">
        üîç <input type="text" placeholder="Search opportunities..." class="search-input" id="opportunitiesSearch">
      </div>
      <button class="filter-btn" id="opportunitiesFilterBtn">Filter</button>
    </div>

    <div class="filter-panel hidden" id="opportunitiesFilterPanel">
      <div class="filter-group">
        <h5>Stage</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="stage" data-value="all">All</button>
          <button class="filter-option" data-filter="stage" data-value="discovery">Discovery</button>
          <button class="filter-option" data-filter="stage" data-value="proposal">Proposal</button>
          <button class="filter-option" data-filter="stage" data-value="negotiation">Negotiation</button>
        </div>
      </div>
      <button class="clear-filters">Clear All</button>
    </div>

    <main class="leads-list">
      <div class="opportunity-card" data-stage="negotiation" data-opportunity-id="1">
        <div class="opportunity-icon">
          <div class="icon-box success">üìà</div>
        </div>
        <div class="opportunity-info">
          <div class="opportunity-header">
            <h4 class="opportunity-title">Enterprise Software License</h4>
            <span class="opportunity-badge success">Negotiation</span>
          </div>
          <p class="opportunity-company">ABC Corporation</p>
          <div class="opportunity-details">
            <span class="opportunity-value">‚Çπ12.5L</span>
            <span class="opportunity-probability">80% probability</span>
          </div>
          <div class="progress-bar">
            <span class="progress-fill" style="width: 80%"></span>
          </div>
        </div>
      </div>

      <div class="opportunity-card" data-stage="proposal" data-opportunity-id="2">
        <div class="opportunity-icon">
          <div class="icon-box primary">üìà</div>
        </div>
        <div class="opportunity-info">
          <div class="opportunity-header">
            <h4 class="opportunity-title">Cloud Migration Project</h4>
            <span class="opportunity-badge primary">Proposal</span>
          </div>
          <p class="opportunity-company">XYZ Ltd</p>
          <div class="opportunity-details">
            <span class="opportunity-value">‚Çπ8.3L</span>
            <span class="opportunity-probability">60% probability</span>
          </div>
          <div class="progress-bar">
            <span class="progress-fill" style="width: 60%"></span>
          </div>
        </div>
      </div>
    </main>

    <button class="fab mini-fab" id="createOpportunityBtn">
      <i class="fas fa-plus"></i>
    </button>
  </section>

  <!-- OPPORTUNITY DETAIL SCREEN -->
  <section class="screen hidden" id="opportunityDetailScreen">
    <header class="sub-header">
      <span class="back" id="backFromOpportunityDetail">‚Üê</span>
      <div>
        <h2>Opportunity Details</h2>
        <p id="opportunityDetailCompany">ABC Corporation</p>
      </div>
      <button class="edit-btn" id="editOpportunityBtn">
        <i class="fas fa-edit"></i>
      </button>
    </header>

    <main class="lead-detail-content">
      <!-- Opportunity Header Card -->
      <div class="detail-header-card success-card">
        <div class="opportunity-detail-header">
          <h3 id="opportunityDetailTitle">Enterprise Software License</h3>
          <span class="opportunity-badge success" id="opportunityDetailStage">Negotiation</span>
        </div>
        <div class="opportunity-detail-value">
          <span class="amount" id="opportunityDetailValue">‚Çπ12.5L</span>
          <span class="probability" id="opportunityDetailProbability">80% probability</span>
        </div>
        <div class="progress-bar">
          <span class="progress-fill" id="opportunityProgressBar" style="width: 80%"></span>
        </div>
        <p class="opportunity-description" id="opportunityDetailDescription">
          Full enterprise license for 500 users including premium support and training.
        </p>
      </div>

      <!-- Details Section -->
      <div class="detail-section">
        <h4>Details</h4>
        <div class="detail-grid">
          <div class="detail-item">
            <i class="fas fa-building"></i>
            <div>
              <p class="detail-label">Company</p>
              <p class="detail-value" id="opportunityDetailCompanyFull">ABC Corporation</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-user"></i>
            <div>
              <p class="detail-label">Owner</p>
              <p class="detail-value" id="opportunityDetailOwner">Rahul Kumar</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-calendar"></i>
            <div>
              <p class="detail-label">Expected Close</p>
              <p class="detail-value" id="opportunityDetailExpectedClose">2024-04-15</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-tags"></i>
            <div>
              <p class="detail-label">Probability</p>
              <p class="detail-value" id="opportunityDetailProbabilityFull">80%</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Stage Pipeline -->
      <div class="detail-section">
        <h4>Stage Progress</h4>
        <div class="stage-pipeline">
          <div class="stage completed">Discovery</div>
          <div class="stage completed">Proposal</div>
          <div class="stage active">Negotiation</div>
          <div class="stage">Closed Won</div>
        </div>
      </div>

      <!-- Tabs -->
      <div class="detail-tabs">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="chat">Chat</button>
          <button class="tab-btn" data-tab="activity">Activity</button>
          <button class="tab-btn" data-tab="documents">Documents</button>
        </div>
        
        <div class="tab-content active" id="chatTabOpportunity">
          <div class="chat-history">
            <div class="chat-message ai">
              <div class="message-avatar">RK</div>
              <div class="message-content">
                <p>Client requested 10% discount on the annual plan.</p>
                <span class="message-time">1 day ago</span>
              </div>
            </div>
          </div>
          <div class="chat-input-container">
            <input type="text" placeholder="Type a message..." class="chat-input-detail">
            <button class="send-btn"><i class="fas fa-paper-plane"></i></button>
          </div>
        </div>

        <div class="tab-content" id="activityTabOpportunity">
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-plus"></i></div>
              <div class="activity-content">
                <p>Created opportunity</p>
                <span class="activity-time">Feb 1, 2024</span>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" id="documentsTabOpportunity">
          <div class="documents-list">
            <div class="document-item">
              <i class="fas fa-file-pdf"></i>
              <div>
                <p>Enterprise_Proposal.pdf</p>
                <span>3.2 MB ‚Ä¢ Feb 20, 2024</span>
              </div>
              <button class="view-doc-btn">View</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- PROPOSALS SCREEN -->
  <section class="screen hidden" id="proposalsScreen">
    <header class="sub-header">
      <span class="back" id="backFromProposals">‚Üê</span>
      <div>
        <h2>Proposals</h2>
        <p>7 new this month</p>
      </div>
    </header>

    <div class="filter-section">
      <div class="search-box">
        üîç <input type="text" placeholder="Search proposals..." class="search-input" id="proposalsSearch">
      </div>
      <button class="filter-btn" id="proposalsFilterBtn">Filter</button>
    </div>

    <div class="filter-panel hidden" id="proposalsFilterPanel">
      <div class="filter-group">
        <h5>Status</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="status" data-value="all">All</button>
          <button class="filter-option" data-filter="status" data-value="draft">Draft</button>
          <button class="filter-option" data-filter="status" data-value="pending">Pending</button>
          <button class="filter-option" data-filter="status" data-value="approved">Approved</button>
        </div>
      </div>
      <button class="clear-filters">Clear All</button>
    </div>

    <main class="leads-list">
      <div class="proposal-card" data-status="pending" data-proposal-id="1">
        <div class="proposal-icon">
          <div class="icon-box primary">üìÑ</div>
        </div>
        <div class="proposal-info">
          <div class="proposal-header">
            <h4 class="proposal-title">Q1 Marketing Campaign</h4>
            <span class="proposal-badge warning">pending</span>
          </div>
          <p class="proposal-company">Brand Masters</p>
          <div class="proposal-details">
            <span class="proposal-value">‚Çπ9.5L</span>
            <span class="proposal-date">‚è∞ 2024-03-15</span>
          </div>
        </div>
      </div>

      <div class="proposal-card" data-status="approved" data-proposal-id="2">
        <div class="proposal-icon">
          <div class="icon-box success">üìÑ</div>
        </div>
        <div class="proposal-info">
          <div class="proposal-header">
            <h4 class="proposal-title">Website Redesign</h4>
            <span class="proposal-badge success">approved</span>
          </div>
          <p class="proposal-company">Digital First</p>
          <div class="proposal-details">
            <span class="proposal-value">‚Çπ7.2L</span>
            <span class="proposal-date">‚è∞ 2024-03-10</span>
          </div>
        </div>
      </div>
    </main>

    <button class="fab mini-fab" id="createProposalBtn">
      <i class="fas fa-plus"></i>
    </button>
  </section>

  <!-- PROPOSAL DETAIL SCREEN -->
  <section class="screen hidden" id="proposalDetailScreen">
    <header class="sub-header">
      <span class="back" id="backFromProposalDetail">‚Üê</span>
      <div>
        <h2>Proposal Details</h2>
        <p id="proposalDetailCompany">Brand Masters</p>
      </div>
      <button class="edit-btn" id="editProposalBtn">
        <i class="fas fa-edit"></i>
      </button>
    </header>

    <main class="lead-detail-content">
      <!-- Proposal Header Card -->
      <div class="detail-header-card primary-card">
        <div class="proposal-detail-header">
          <h3 id="proposalDetailTitle">Q1 Marketing Campaign</h3>
          <span class="proposal-badge warning" id="proposalDetailStatus">pending</span>
        </div>
        <div class="proposal-detail-value">
          <span class="amount" id="proposalDetailValue">‚Çπ9.5L</span>
          <span class="valid-until">Valid until: <span id="proposalDetailValidUntil">2024-04-01</span></span>
        </div>
        <p class="proposal-description" id="proposalDetailDescription">
          Comprehensive digital marketing campaign including SEO, PPC, and social media management for Q1 2024.
        </p>
      </div>

      <!-- Line Items -->
      <div class="detail-section">
        <h4>Line Items</h4>
        <div id="proposalItems">
          <div class="line-item">
            <span>SEO Optimization</span>
            <span>‚Çπ3.0L</span>
          </div>
          <div class="line-item">
            <span>PPC Campaign</span>
            <span>‚Çπ4.0L</span>
          </div>
          <div class="line-item">
            <span>Social Media</span>
            <span>‚Çπ2.5L</span>
          </div>
        </div>
        <div class="line-total">
          <span>Total</span>
          <span class="total-value" id="proposalTotalValue">‚Çπ9.5L</span>
        </div>
      </div>

      <!-- Details -->
      <div class="detail-section">
        <h4>Details</h4>
        <div class="detail-grid">
          <div class="detail-item">
            <i class="fas fa-building"></i>
            <div>
              <p class="detail-label">Company</p>
              <p class="detail-value" id="proposalDetailCompanyFull">Brand Masters</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-user"></i>
            <div>
              <p class="detail-label">Owner</p>
              <p class="detail-value" id="proposalDetailOwner">Rahul Kumar</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-calendar"></i>
            <div>
              <p class="detail-label">Created</p>
              <p class="detail-value" id="proposalDetailCreatedAt">2024-03-15</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-clock"></i>
            <div>
              <p class="detail-label">Valid Until</p>
              <p class="detail-value" id="proposalDetailValidUntilFull">2024-04-01</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="action-buttons">
        <button class="action-btn primary">
          <i class="fas fa-download"></i> Download PDF
        </button>
        <button class="action-btn secondary">
          Send to Client
        </button>
      </div>

      <!-- Tabs -->
      <div class="detail-tabs">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="chat">Chat</button>
          <button class="tab-btn" data-tab="activity">Activity</button>
          <button class="tab-btn" data-tab="documents">Documents</button>
        </div>
        
        <div class="tab-content active" id="chatTabProposal">
          <div class="chat-history">
            <div class="chat-message ai">
              <div class="message-avatar">RK</div>
              <div class="message-content">
                <p>Proposal sent to the client. Waiting for their feedback.</p>
                <span class="message-time">1 day ago</span>
              </div>
            </div>
          </div>
          <div class="chat-input-container">
            <input type="text" placeholder="Type a message..." class="chat-input-detail">
            <button class="send-btn"><i class="fas fa-paper-plane"></i></button>
          </div>
        </div>

        <div class="tab-content" id="activityTabProposal">
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-plus"></i></div>
              <div class="activity-content">
                <p>Created proposal</p>
                <span class="activity-time">Mar 15, 2024</span>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" id="documentsTabProposal">
          <div class="documents-list">
            <div class="document-item">
              <i class="fas fa-file-pdf"></i>
              <div>
                <p>Marketing_Proposal.pdf</p>
                <span>4.5 MB ‚Ä¢ Mar 15, 2024</span>
              </div>
              <button class="view-doc-btn">View</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- CUSTOMERS SCREEN -->
  <section class="screen hidden" id="customersScreen">
    <header class="sub-header">
      <span class="back" id="backFromCustomers">‚Üê</span>
      <div>
        <h2>Customers</h2>
        <p>156 active accounts</p>
      </div>
    </header>

    <div class="search-box">
      üîç <input type="text" placeholder="Search customers..." class="search-input" id="customersSearch">
    </div>

    <main class="leads-list">
      <div class="customer-card" data-customer-id="1">
        <div class="customer-avatar success-gradient">AC</div>
        <div class="customer-info">
          <div class="customer-header">
            <h4 class="customer-name">Acme Corporation</h4>
            <span class="customer-badge success">active</span>
          </div>
          <p class="customer-contact">James Wilson</p>
          <div class="customer-details">
            <div class="detail-row">
              <i class="fas fa-envelope"></i>
              <span>james@acme.com</span>
            </div>
            <div class="detail-row">
              <i class="fas fa-phone"></i>
              <span>+91 98765 43210</span>
            </div>
            <div class="detail-row">
              <i class="fas fa-map-marker-alt"></i>
              <span>Mumbai</span>
            </div>
            <div class="detail-row">
              <i class="fas fa-rupee-sign"></i>
              <span class="customer-value">‚Çπ45.2L</span>
            </div>
          </div>
        </div>
      </div>

      <div class="customer-card" data-customer-id="2">
        <div class="customer-avatar primary-gradient">GT</div>
        <div class="customer-info">
          <div class="customer-header">
            <h4 class="customer-name">Global Tech Solutions</h4>
            <span class="customer-badge success">active</span>
          </div>
          <p class="customer-contact">Lisa Anderson</p>
          <div class="customer-details">
            <div class="detail-row">
              <i class="fas fa-envelope"></i>
              <span>lisa@globaltech.com</span>
            </div>
            <div class="detail-row">
              <i class="fas fa-phone"></i>
              <span>+91 98765 43211</span>
            </div>
            <div class="detail-row">
              <i class="fas fa-map-marker-alt"></i>
              <span>Bangalore</span>
            </div>
            <div class="detail-row">
              <i class="fas fa-rupee-sign"></i>
              <span class="customer-value">‚Çπ38.5L</span>
            </div>
          </div>
        </div>
      </div>
    </main>

    <button class="fab mini-fab" id="createCustomerBtn">
      <i class="fas fa-plus"></i>
    </button>
  </section>

  <!-- CUSTOMER DETAIL SCREEN -->
  <section class="screen hidden" id="customerDetailScreen">
    <header class="sub-header">
      <span class="back" id="backFromCustomerDetail">‚Üê</span>
      <div>
        <h2>Customer Details</h2>
        <p id="customerDetailName">Acme Corporation</p>
      </div>
      <button class="edit-btn" id="editCustomerBtn">
        <i class="fas fa-edit"></i>
      </button>
    </header>

    <main class="lead-detail-content">
      <!-- Customer Header Card -->
      <div class="detail-header-card success-gradient-card">
        <div class="customer-avatar-large success-gradient" id="customerDetailAvatar">AC</div>
        <div class="customer-detail-info">
          <div class="customer-detail-header">
            <h3 id="customerDetailNameFull">Acme Corporation</h3>
            <span class="customer-badge success" id="customerDetailStatus">active</span>
          </div>
          <p class="customer-contact-detail" id="customerDetailContact">James Wilson</p>
          <div class="customer-value-detail" id="customerDetailValue">‚Çπ45.2L</div>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="detail-section">
        <h4>Contact Information</h4>
        <div class="detail-grid">
          <div class="detail-item">
            <i class="fas fa-envelope"></i>
            <div>
              <p class="detail-label">Email</p>
              <p class="detail-value" id="customerDetailEmail">james@acme.com</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-phone"></i>
            <div>
              <p class="detail-label">Phone</p>
              <p class="detail-value" id="customerDetailPhone">+91 98765 43210</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-map-marker-alt"></i>
            <div>
              <p class="detail-label">Location</p>
              <p class="detail-value" id="customerDetailLocation">Mumbai, Maharashtra</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-calendar"></i>
            <div>
              <p class="detail-label">Customer Since</p>
              <p class="detail-value" id="customerDetailSince">Jan 2022</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Tabs -->
      <div class="detail-tabs">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="purchases">Purchase History</button>
          <button class="tab-btn" data-tab="interactions">Interactions</button>
        </div>
        
        <div class="tab-content active" id="purchasesTab">
          <div class="purchase-list">
            <div class="purchase-item">
              <div class="purchase-icon">
                <div class="icon-box primary">üìà</div>
              </div>
              <div class="purchase-info">
                <div class="purchase-header">
                  <h4>Enterprise Software License</h4>
                  <span class="purchase-badge">completed</span>
                </div>
                <div class="purchase-details">
                  <span class="purchase-date">2024-02-15</span>
                  <span class="purchase-value">‚Çπ12.5L</span>
                </div>
              </div>
            </div>
            
            <div class="purchase-item">
              <div class="purchase-icon">
                <div class="icon-box success">üìà</div>
              </div>
              <div class="purchase-info">
                <div class="purchase-header">
                  <h4>Cloud Infrastructure Setup</h4>
                  <span class="purchase-badge">completed</span>
                </div>
                <div class="purchase-details">
                  <span class="purchase-date">2024-01-10</span>
                  <span class="purchase-value">‚Çπ8.3L</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" id="interactionsTab">
          <div class="interaction-list">
            <div class="interaction-item">
              <div class="interaction-icon">
                <div class="icon-box accent">üí¨</div>
              </div>
              <div class="interaction-info">
                <div class="interaction-header">
                  <h4>Quarterly Business Review</h4>
                  <span class="interaction-type">Meeting</span>
                </div>
                <p class="interaction-notes">Discussed expansion plans and new features</p>
                <span class="interaction-date">2024-03-10</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- COMPLAINTS SCREEN -->
  <section class="screen hidden" id="complaintsScreen">
    <header class="sub-header">
      <span class="back" id="backFromComplaints">‚Üê</span>
      <div>
        <h2>Customer Complaints</h2>
        <p>3 pending resolution</p>
      </div>
    </header>

    <div class="filter-section">
      <div class="search-box">
        üîç <input type="text" placeholder="Search complaints..." class="search-input" id="complaintsSearch">
      </div>
      <button class="filter-btn" id="complaintsFilterBtn">Filter</button>
    </div>

    <div class="filter-panel hidden" id="complaintsFilterPanel">
      <div class="filter-group">
        <h5>Priority</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="priority" data-value="all">All</button>
          <button class="filter-option" data-filter="priority" data-value="high">High</button>
          <button class="filter-option" data-filter="priority" data-value="medium">Medium</button>
          <button class="filter-option" data-filter="priority" data-value="low">Low</button>
        </div>
      </div>
      <div class="filter-group">
        <h5>Status</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="status" data-value="all">All</button>
          <button class="filter-option" data-filter="status" data-value="pending">Pending</button>
          <button class="filter-option" data-filter="status" data-value="investigating">Investigating</button>
          <button class="filter-option" data-filter="status" data-value="resolved">Resolved</button>
        </div>
      </div>
      <button class="clear-filters">Clear All</button>
    </div>

    <main class="leads-list">
      <div class="complaint-card" data-priority="high" data-status="investigating" data-complaint-id="1">
        <div class="complaint-icon">
          <div class="icon-box warning">‚ö†</div>
        </div>
        <div class="complaint-info">
          <div class="complaint-header">
            <h4 class="complaint-title">Software Login Issues</h4>
            <div class="complaint-badges">
              <span class="complaint-priority-badge high">high</span>
              <span class="complaint-status-badge investigating">investigating</span>
            </div>
          </div>
          <p class="complaint-customer">Acme Corporation</p>
          <p class="complaint-description">Multiple users unable to access the system</p>
          <div class="complaint-details">
            <span class="complaint-date">‚è∞ 2024-03-15</span>
            <span class="complaint-assigned">üë§ Tech Support</span>
          </div>
        </div>
      </div>

      <div class="complaint-card" data-priority="medium" data-status="pending" data-complaint-id="2">
        <div class="complaint-icon">
          <div class="icon-box default">‚ö†</div>
        </div>
        <div class="complaint-info">
          <div class="complaint-header">
            <h4 class="complaint-title">Invoice Discrepancy</h4>
            <div class="complaint-badges">
              <span class="complaint-priority-badge medium">medium</span>
              <span class="complaint-status-badge pending">pending</span>
            </div>
          </div>
          <p class="complaint-customer">Global Tech Solutions</p>
          <p class="complaint-description">Billing amount doesn't match agreement</p>
          <div class="complaint-details">
            <span class="complaint-date">‚è∞ 2024-03-14</span>
            <span class="complaint-assigned">üë§ Finance Team</span>
          </div>
        </div>
      </div>
    </main>

    <button class="fab mini-fab" id="createComplaintBtn">
      <i class="fas fa-plus"></i>
    </button>
  </section>

  <!-- COMPLAINT DETAIL SCREEN -->
  <section class="screen hidden" id="complaintDetailScreen">
    <header class="sub-header">
      <span class="back" id="backFromComplaintDetail">‚Üê</span>
      <div>
        <h2>Complaint Details</h2>
        <p id="complaintDetailCustomer">Acme Corporation</p>
      </div>
      <button class="edit-btn" id="editComplaintBtn">
        <i class="fas fa-edit"></i>
      </button>
    </header>

    <main class="lead-detail-content">
      <!-- Complaint Header Card -->
      <div class="detail-header-card warning-card">
        <div class="complaint-icon-large">
          <div class="icon-box warning">‚ö†</div>
        </div>
        <div class="complaint-detail-info">
          <div class="complaint-detail-header">
            <h3 id="complaintDetailTitle">Software Login Issues</h3>
            <span class="complaint-type" id="complaintDetailType">Technical Issue</span>
          </div>
          <div class="complaint-badges">
            <span class="complaint-priority-badge high" id="complaintDetailPriority">high</span>
            <span class="complaint-status-badge investigating" id="complaintDetailStatus">investigating</span>
          </div>
          <p class="complaint-description-detail" id="complaintDetailDescription">
            Multiple users at Acme Corporation are unable to access the system. Getting "Invalid credentials" error.
          </p>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="detail-section">
        <h4>Contact Information</h4>
        <div class="detail-grid">
          <div class="detail-item">
            <i class="fas fa-user"></i>
            <div>
              <p class="detail-label">Contact Person</p>
              <p class="detail-value" id="complaintDetailContactPerson">John Manager</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-envelope"></i>
            <div>
              <p class="detail-label">Email</p>
              <p class="detail-value" id="complaintDetailContactEmail">john@acme.com</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-phone"></i>
            <div>
              <p class="detail-label">Phone</p>
              <p class="detail-value" id="complaintDetailContactPhone">+91 98765 43210</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-calendar"></i>
            <div>
              <p class="detail-label">Created</p>
              <p class="detail-value" id="complaintDetailCreatedAt">2024-03-15</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Status Update -->
      <div class="detail-section">
        <h4>Update Status</h4>
        <div class="status-buttons">
          <button class="status-btn active">Pending</button>
          <button class="status-btn">Investigating</button>
          <button class="status-btn">Resolved</button>
          <button class="status-btn">Closed</button>
        </div>
      </div>

      <!-- Resolution Notes -->
      <div class="detail-section">
        <h4>Resolution Notes</h4>
        <textarea placeholder="Add resolution details..." rows="3" class="resolution-textarea"></textarea>
        <button class="save-btn">Save Resolution</button>
      </div>

      <!-- Tabs -->
      <div class="detail-tabs">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="chat">Chat</button>
          <button class="tab-btn" data-tab="activity">Activity</button>
          <button class="tab-btn" data-tab="documents">Documents</button>
        </div>
        
        <div class="tab-content active" id="chatTabComplaint">
          <div class="chat-history">
            <div class="chat-message ai">
              <div class="message-avatar">TS</div>
              <div class="message-content">
                <p>We've identified the issue. It seems to be related to their SSO configuration.</p>
                <span class="message-time">2 hours ago</span>
              </div>
            </div>
          </div>
          <div class="chat-input-container">
            <input type="text" placeholder="Type a message..." class="chat-input-detail">
            <button class="send-btn"><i class="fas fa-paper-plane"></i></button>
          </div>
        </div>

        <div class="tab-content" id="activityTabComplaint">
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-plus"></i></div>
              <div class="activity-content">
                <p>Complaint registered</p>
                <span class="activity-time">Mar 15, 10:00 AM</span>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" id="documentsTabComplaint">
          <div class="documents-list">
            <div class="document-item">
              <i class="fas fa-file-pdf"></i>
              <div>
                <p>Error_Screenshot.png</p>
                <span>1.2 MB ‚Ä¢ Mar 15, 2024</span>
              </div>
              <button class="view-doc-btn">View</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- ========== NEW FORMS ========== -->

  <!-- NEW LEAD FORM -->
  <section class="screen hidden" id="leadFormScreen">
    <header class="sub-header">
      <span class="back" id="backFromLeadForm">‚Üê</span>
      <div>
        <h2>Create New Lead</h2>
        <p>Add a new lead to your pipeline</p>
      </div>
    </header>

    <main class="form-container">
      <form id="newLeadForm" class="lead-form">
        <div class="form-columns">
          <div class="form-group">
            <label>Lead Name <span class="req">*</span></label>
            <input type="text" id="newLeadName" required placeholder="John Smith">
          </div>
          
          <div class="form-group">
            <label>Company <span class="req">*</span></label>
            <input type="text" id="newLeadCompany" required placeholder="Tech Innovations Inc">
          </div>
          
          <div class="form-group">
            <label>Status <span class="req">*</span></label>
            <select id="newLeadStatus" required>
              <option value="">Select Status</option>
              <option value="hot">Hot</option>
              <option value="warm">Warm</option>
              <option value="cold">Cold</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Email <span class="req">*</span></label>
            <input type="email" id="newLeadEmail" required placeholder="john@company.com">
          </div>
          
          <div class="form-group">
            <label>Phone</label>
            <input type="tel" id="newLeadPhone" placeholder="+91 98765 43210">
          </div>
          
          <div class="form-group">
            <label>Estimated Value</label>
            <div class="currency-input">
              <span class="currency-symbol">‚Çπ</span>
              <input type="number" id="newLeadValue" placeholder="500000">
            </div>
          </div>
          
          <div class="form-group">
            <label>Source</label>
            <select id="newLeadSource">
              <option value="">Select Source</option>
              <option value="website">Website</option>
              <option value="referral">Referral</option>
              <option value="event">Event</option>
              <option value="social">Social Media</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Region</label>
            <select id="newLeadRegion">
              <option value="">Select Region</option>
              <option value="north">North India</option>
              <option value="south">South India</option>
              <option value="east">East India</option>
              <option value="west">West India</option>
            </select>
          </div>
          
          <div class="form-group full-width">
            <label>Notes</label>
            <textarea id="newLeadNotes" rows="3" placeholder="Add any notes about this lead..."></textarea>
          </div>
          
          <div class="form-group full-width">
            <label>Tags</label>
            <input type="text" id="newLeadTags" placeholder="Enter tags separated by commas">
            <span class="form-hint">e.g., Enterprise, Decision Maker, Q1 Priority</span>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelLeadForm">Cancel</button>
          <button type="submit" class="btn btn-primary">Create Lead</button>
        </div>
      </form>
    </main>
  </section>

  <!-- NEW TASK FORM -->
  <section class="screen hidden" id="taskFormScreen">
    <header class="sub-header">
      <span class="back" id="backFromTaskForm">‚Üê</span>
      <div>
        <h2>Create New Task</h2>
        <p>Add a new task to your schedule</p>
      </div>
    </header>

    <main class="form-container">
      <form id="newTaskForm" class="lead-form">
        <div class="form-columns">
          <div class="form-group">
            <label>Task Title <span class="req">*</span></label>
            <input type="text" id="newTaskTitle" required placeholder="Follow up with client">
          </div>
          
          <div class="form-group">
            <label>Priority <span class="req">*</span></label>
            <select id="newTaskPriority" required>
              <option value="">Select Priority</option>
              <option value="high">High</option>
              <option value="medium">Medium</option>
              <option value="low">Low</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Due Date <span class="req">*</span></label>
            <input type="date" id="newTaskDueDate" required>
          </div>
          
          <div class="form-group">
            <label>Time</label>
            <input type="time" id="newTaskTime">
          </div>
          
          <div class="form-group">
            <label>Related To</label>
            <select id="newTaskRelated">
              <option value="">None</option>
              <option value="lead">Lead</option>
              <option value="opportunity">Opportunity</option>
              <option value="customer">Customer</option>
            </select>
          </div>
          
          <div class="form-group" id="relatedItemContainer" style="display: none;">
            <label>Select Item</label>
            <select id="newTaskRelatedItem">
              <!-- Will be populated dynamically -->
            </select>
          </div>
          
          <div class="form-group full-width">
            <label>Description</label>
            <textarea id="newTaskDescription" rows="4" placeholder="Describe the task details..."></textarea>
          </div>
          
          <div class="form-group">
            <label>Assigned To</label>
            <select id="newTaskAssignedTo">
              <option value="">Self</option>
              <option value="team">Team</option>
              <option value="specific">Specific Person</option>
            </select>
          </div>
          
          <div class="form-group" id="specificPersonContainer" style="display: none;">
            <label>Person Name</label>
            <input type="text" id="newTaskPersonName" placeholder="Enter name">
          </div>
          
          <div class="form-group">
            <label>Category</label>
            <select id="newTaskCategory">
              <option value="">Select Category</option>
              <option value="followup">Follow-up</option>
              <option value="meeting">Meeting</option>
              <option value="proposal">Proposal</option>
              <option value="research">Research</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelTaskForm">Cancel</button>
          <button type="submit" class="btn btn-primary">Create Task</button>
        </div>
      </form>
    </main>
  </section>

  <!-- NEW CUSTOMER FORM -->
  <section class="screen hidden" id="customerFormScreen">
    <header class="sub-header">
      <span class="back" id="backFromCustomerForm">‚Üê</span>
      <div>
        <h2>Add New Customer</h2>
        <p>Register a new customer account</p>
      </div>
    </header>

    <main class="form-container">
      <form id="newCustomerForm" class="lead-form">
        <div class="form-columns">
          <div class="form-group">
            <label>Company Name <span class="req">*</span></label>
            <input type="text" id="newCustomerCompany" required placeholder="Acme Corporation">
          </div>
          
          <div class="form-group">
            <label>Contact Person <span class="req">*</span></label>
            <input type="text" id="newCustomerContact" required placeholder="John Manager">
          </div>
          
          <div class="form-group">
            <label>Email <span class="req">*</span></label>
            <input type="email" id="newCustomerEmail" required placeholder="contact@company.com">
          </div>
          
          <div class="form-group">
            <label>Phone <span class="req">*</span></label>
            <input type="tel" id="newCustomerPhone" required placeholder="+91 98765 43210">
          </div>
          
          <div class="form-group">
            <label>Industry</label>
            <select id="newCustomerIndustry">
              <option value="">Select Industry</option>
              <option value="technology">Technology</option>
              <option value="finance">Finance</option>
              <option value="healthcare">Healthcare</option>
              <option value="retail">Retail</option>
              <option value="manufacturing">Manufacturing</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Location</label>
            <input type="text" id="newCustomerLocation" placeholder="City, State">
          </div>
          
          <div class="form-group">
            <label>Customer Since</label>
            <input type="date" id="newCustomerSince">
          </div>
          
          <div class="form-group">
            <label>Account Value (Annual)</label>
            <div class="currency-input">
              <span class="currency-symbol">‚Çπ</span>
              <input type="number" id="newCustomerValue" placeholder="1000000">
            </div>
          </div>
          
          <div class="form-group full-width">
            <label>Notes</label>
            <textarea id="newCustomerNotes" rows="3" placeholder="Additional information about this customer..."></textarea>
          </div>
          
          <div class="form-group">
            <label>Status</label>
            <select id="newCustomerStatus">
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
              <option value="prospect">Prospect</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Payment Terms</label>
            <select id="newCustomerPaymentTerms">
              <option value="net30">Net 30</option>
              <option value="net45">Net 45</option>
              <option value="net60">Net 60</option>
              <option value="immediate">Immediate</option>
            </select>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelCustomerForm">Cancel</button>
          <button type="submit" class="btn btn-primary">Add Customer</button>
        </div>
      </form>
    </main>
  </section>

  <!-- NEW COMPLAINT FORM -->
  <section class="screen hidden" id="complaintFormScreen">
    <header class="sub-header">
      <span class="back" id="backFromComplaintForm">‚Üê</span>
      <div>
        <h2>Register Complaint</h2>
        <p>Record a new customer complaint</p>
      </div>
    </header>

    <main class="form-container">
      <form id="newComplaintForm" class="lead-form">
        <div class="form-columns">
          <div class="form-group">
            <label>Customer <span class="req">*</span></label>
            <select id="newComplaintCustomer" required>
              <option value="">Select Customer</option>
              <!-- Will be populated dynamically -->
            </select>
          </div>
          
          <div class="form-group">
            <label>Complaint Title <span class="req">*</span></label>
            <input type="text" id="newComplaintTitle" required placeholder="Brief description of the issue">
          </div>
          
          <div class="form-group">
            <label>Type <span class="req">*</span></label>
            <select id="newComplaintType" required>
              <option value="">Select Type</option>
              <option value="technical">Technical Issue</option>
              <option value="billing">Billing/Payment</option>
              <option value="service">Service Quality</option>
              <option value="delivery">Delivery Problem</option>
              <option value="other">Other</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Priority <span class="req">*</span></label>
            <select id="newComplaintPriority" required>
              <option value="">Select Priority</option>
              <option value="high">High</option>
              <option value="medium">Medium</option>
              <option value="low">Low</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Assigned To</label>
            <select id="newComplaintAssigned">
              <option value="">Unassigned</option>
              <option value="tech">Tech Support</option>
              <option value="sales">Sales Team</option>
              <option value="finance">Finance Team</option>
              <option value="management">Management</option>
            </select>
          </div>
          
          <div class="form-group full-width">
            <label>Description <span class="req">*</span></label>
            <textarea id="newComplaintDescription" rows="4" required placeholder="Detailed description of the complaint..."></textarea>
          </div>
          
          <div class="form-group">
            <label>Contact Person</label>
            <input type="text" id="newComplaintContact" placeholder="Name of contact person">
          </div>
          
          <div class="form-group">
            <label>Contact Email</label>
            <input type="email" id="newComplaintEmail" placeholder="email@company.com">
          </div>
          
          <div class="form-group">
            <label>Contact Phone</label>
            <input type="tel" id="newComplaintPhone" placeholder="+91 98765 43210">
          </div>
          
          <div class="form-group">
            <label>Status</label>
            <select id="newComplaintStatus">
              <option value="pending">Pending</option>
              <option value="investigating">Investigating</option>
              <option value="resolved">Resolved</option>
            </select>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelComplaintForm">Cancel</button>
          <button type="submit" class="btn btn-primary">Register Complaint</button>
        </div>
      </form>
    </main>
  </section>

  <!-- EDIT LEAD FORM -->
  <section class="screen hidden" id="editLeadScreen">
    <header class="sub-header">
      <span class="back" id="backFromEditLead">‚Üê</span>
      <div>
        <h2>Edit Lead</h2>
        <p>Update lead information</p>
      </div>
    </header>

    <main class="form-container">
      <form id="editLeadForm" class="lead-form">
        <input type="hidden" id="editLeadId">
        <div class="form-columns">
          <div class="form-group">
            <label>Lead Name <span class="req">*</span></label>
            <input type="text" id="editLeadName" required>
          </div>
          
          <div class="form-group">
            <label>Company <span class="req">*</span></label>
            <input type="text" id="editLeadCompany" required>
          </div>
          
          <div class="form-group">
            <label>Status <span class="req">*</span></label>
            <select id="editLeadStatus" required>
              <option value="hot">Hot</option>
              <option value="warm">Warm</option>
              <option value="cold">Cold</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Email <span class="req">*</span></label>
            <input type="email" id="editLeadEmail" required>
          </div>
          
          <div class="form-group">
            <label>Phone</label>
            <input type="tel" id="editLeadPhone">
          </div>
          
          <div class="form-group">
            <label>Estimated Value</label>
            <div class="currency-input">
              <span class="currency-symbol">‚Çπ</span>
              <input type="number" id="editLeadValue">
            </div>
          </div>
          
          <div class="form-group">
            <label>Source</label>
            <select id="editLeadSource">
              <option value="website">Website</option>
              <option value="referral">Referral</option>
              <option value="event">Event</option>
              <option value="social">Social Media</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Region</label>
            <select id="editLeadRegion">
              <option value="north">North India</option>
              <option value="south">South India</option>
              <option value="east">East India</option>
              <option value="west">West India</option>
            </select>
          </div>
          
          <div class="form-group full-width">
            <label>Notes</label>
            <textarea id="editLeadNotes" rows="3"></textarea>
          </div>
          
          <div class="form-group full-width">
            <label>Tags</label>
            <input type="text" id="editLeadTags" placeholder="Enter tags separated by commas">
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelEditLead">Cancel</button>
          <button type="submit" class="btn btn-primary">Update Lead</button>
        </div>
      </form>
    </main>
  </section>

  <!-- ========== NEW VISIT SCREENS ========== -->
  
  <!-- VISITS SCREEN -->
  <section class="screen hidden" id="visitsScreen">
    <header class="sub-header">
      <span class="back" id="backFromVisits">‚Üê</span>
      <div>
        <h2>Customer Visits</h2>
        <p id="visitsCountText">2 visits this month</p>
      </div>
      <button class="edit-btn" id="createVisitHeaderBtn">
        <i class="fas fa-plus"></i>
      </button>
    </header>

    <div class="filter-section">
      <div class="search-box">
        üîç <input type="text" placeholder="Search visits..." class="search-input" id="visitsSearch">
      </div>
      <div class="filter-group">
        <select id="visitsFilter" class="filter-select">
          <option value="all">All Visits</option>
          <option value="scheduled">Scheduled</option>
          <option value="completed">Completed</option>
          <option value="cancelled">Cancelled</option>
        </select>
        <button class="filter-btn" id="visitsFilterBtn">Filter</button>
      </div>
    </div>

    <div class="filter-panel hidden" id="visitsFilterPanel">
      <div class="filter-group">
        <h5>Status</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="status" data-value="all">All</button>
          <button class="filter-option" data-filter="status" data-value="scheduled">Scheduled</button>
          <button class="filter-option" data-filter="status" data-value="completed">Completed</button>
          <button class="filter-option" data-filter="status" data-value="cancelled">Cancelled</button>
        </div>
      </div>
      <div class="filter-group">
        <h5>Customer</h5>
        <div class="filter-options">
          <button class="filter-option active" data-filter="customer" data-value="all">All</button>
          <button class="filter-option" data-filter="customer" data-value="acme">Acme Corporation</button>
          <button class="filter-option" data-filter="customer" data-value="global">Global Tech</button>
        </div>
      </div>
      <button class="clear-filters" id="clearVisitsFilters">Clear All</button>
    </div>

    <main class="leads-list" id="visitsListContainer">
      <!-- Visits will be loaded dynamically -->
    </main>

    <button class="fab mini-fab" id="createVisitBtn">
      <i class="fas fa-plus"></i>
    </button>
  </section>

  <!-- VISIT DETAIL SCREEN -->
  <section class="screen hidden" id="visitDetailScreen">
    <header class="sub-header">
      <span class="back" id="backFromVisitDetail">‚Üê</span>
      <div>
        <h2>Visit Details</h2>
        <p id="visitDetailCustomer">Customer Name</p>
      </div>
      <button class="edit-btn" id="editVisitBtn">
        <i class="fas fa-edit"></i>
      </button>
    </header>

    <main class="lead-detail-content">
      <!-- Visit Header Card -->
      <div class="detail-header-card">
        <div class="visit-detail-avatar" id="visitDetailAvatar">AC</div>
        <div class="visit-detail-info">
          <div class="visit-detail-header">
            <h3 id="visitDetailTitle">Product Demo</h3>
            <span class="visit-badge completed" id="visitDetailStatus">Completed</span>
          </div>
          <p class="visit-detail-customer" id="visitDetailCustomerName">Acme Corporation</p>
          <p class="visit-detail-date" id="visitDetailDateTime">2024-03-17 ‚Ä¢ 10:00 AM</p>
        </div>
        <div class="visit-detail-actions">
          <button class="action-btn">
            <i class="fas fa-map-marker-alt"></i> Directions
          </button>
          <button class="action-btn">
            <i class="fas fa-phone"></i> Call
          </button>
        </div>
      </div>

      <!-- Visit Details -->
      <div class="detail-section">
        <h4>Visit Information</h4>
        <div class="detail-grid">
          <div class="detail-item">
            <i class="fas fa-user"></i>
            <div>
              <p class="detail-label">Contact Person</p>
              <p class="detail-value" id="visitDetailContact">James Wilson</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-map-marker-alt"></i>
            <div>
              <p class="detail-label">Location</p>
              <p class="detail-value" id="visitDetailLocation">Client Office, Mumbai</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-clock"></i>
            <div>
              <p class="detail-label">Duration</p>
              <p class="detail-value" id="visitDetailDuration">2 hours</p>
            </div>
          </div>
          <div class="detail-item">
            <i class="fas fa-users"></i>
            <div>
              <p class="detail-label">Attendees</p>
              <p class="detail-value" id="visitDetailAttendees">James Wilson, Rahul Kumar</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Purpose & Notes -->
      <div class="detail-section">
        <h4>Purpose</h4>
        <p id="visitDetailPurpose">Product demonstration of new features and premium plan discussion.</p>
      </div>

      <div class="detail-section">
        <h4>Notes</h4>
        <p id="visitDetailNotes">Client showed interest in premium plan. Discussed pricing and implementation timeline. Follow-up with detailed proposal required.</p>
      </div>

      <!-- Follow-up -->
      <div class="detail-section">
        <h4>Follow-up Action</h4>
        <div class="follow-up-card">
          <i class="fas fa-check-circle"></i>
          <div>
            <p id="visitDetailFollowUp">Send pricing details and implementation plan</p>
            <span class="follow-up-date" id="visitDetailFollowUpDate">Due by: 2024-03-20</span>
          </div>
        </div>
      </div>

      <!-- Tabs -->
      <div class="detail-tabs">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="expenses">Expenses</button>
          <button class="tab-btn" data-tab="documents">Documents</button>
          <button class="tab-btn" data-tab="activity">Activity</button>
        </div>
        
        <div class="tab-content active" id="expensesTab">
          <div class="expense-list">
            <div class="expense-item">
              <i class="fas fa-car"></i>
              <div>
                <p>Travel Cost</p>
                <span class="expense-amount" id="visitDetailTravelCost">‚Çπ1500</span>
              </div>
            </div>
            <div class="expense-item">
              <i class="fas fa-utensils"></i>
              <div>
                <p>Meals</p>
                <span class="expense-amount">‚Çπ800</span>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" id="documentsTabVisit">
          <div class="documents-list">
            <div class="document-item">
              <i class="fas fa-file-pdf"></i>
              <div>
                <p>Visit_Report.pdf</p>
                <span>1.5 MB ‚Ä¢ Mar 17, 2024</span>
              </div>
              <button class="view-doc-btn">View</button>
            </div>
          </div>
        </div>

        <div class="tab-content" id="activityTabVisit">
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-plus"></i></div>
              <div class="activity-content">
                <p>Visit scheduled</p>
                <span class="activity-time">Mar 10, 2024</span>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-icon"><i class="fas fa-check"></i></div>
              <div class="activity-content">
                <p>Visit completed</p>
                <span class="activity-time">Mar 17, 2024</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </section>

  <!-- VISIT FORM SCREEN -->
  <section class="screen hidden" id="visitFormScreen">
    <header class="sub-header">
      <span class="back" id="backFromVisitForm">‚Üê</span>
      <div>
        <h2>Schedule Visit</h2>
        <p>Record customer visit details</p>
      </div>
    </header>

    <main class="form-container">
      <form id="newVisitForm" class="lead-form">
        <div class="form-columns">
          <div class="form-group">
            <label>Customer <span class="req">*</span></label>
            <select id="newVisitCustomer" required>
              <option value="">Select Customer</option>
              <!-- Will be populated dynamically -->
            </select>
          </div>
          
          <div class="form-group">
            <label>Visit Date <span class="req">*</span></label>
            <input type="date" id="newVisitDate" required>
          </div>
          
          <div class="form-group">
            <label>Visit Time <span class="req">*</span></label>
            <input type="time" id="newVisitTime" required>
          </div>
          
          <div class="form-group">
            <label>Purpose <span class="req">*</span></label>
            <select id="newVisitPurpose" required>
              <option value="">Select Purpose</option>
              <option value="demo">Product Demo</option>
              <option value="meeting">Business Meeting</option>
              <option value="review">Quarterly Review</option>
              <option value="support">Support Visit</option>
              <option value="other">Other</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Location <span class="req">*</span></label>
            <input type="text" id="newVisitLocation" required placeholder="Client Office, City">
          </div>
          
          <div class="form-group">
            <label>Duration</label>
            <select id="newVisitDuration">
              <option value="1">1 hour</option>
              <option value="1.5">1.5 hours</option>
              <option value="2">2 hours</option>
              <option value="3">3 hours</option>
              <option value="4">4+ hours</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Status</label>
            <select id="newVisitStatus">
              <option value="scheduled">Scheduled</option>
              <option value="completed">Completed</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
          
          <div class="form-group full-width">
            <label>Attendees</label>
            <input type="text" id="newVisitAttendees" placeholder="Names separated by commas">
          </div>
          
          <div class="form-group full-width">
            <label>Notes</label>
            <textarea id="newVisitNotes" rows="3" placeholder="Visit notes and observations..."></textarea>
          </div>
          
          <div class="form-group">
            <label>Follow-up Action</label>
            <input type="text" id="newVisitFollowUp" placeholder="Action required after visit">
          </div>
          
          <div class="form-group">
            <label>Follow-up Date</label>
            <input type="date" id="newVisitFollowUpDate">
          </div>
          
          <div class="form-group">
            <label>Travel Cost</label>
            <div class="currency-input">
              <span class="currency-symbol">‚Çπ</span>
              <input type="number" id="newVisitCost" placeholder="0">
            </div>
          </div>
          
          <div class="form-group">
            <label>Outcome</label>
            <select id="newVisitOutcome">
              <option value="">Select Outcome</option>
              <option value="positive">Positive</option>
              <option value="neutral">Neutral</option>
              <option value="negative">Negative</option>
            </select>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelVisitForm">Cancel</button>
          <button type="submit" class="btn btn-primary">Schedule Visit</button>
        </div>
      </form>
    </main>
  </section>

  <!-- EDIT VISIT SCREEN -->
  <section class="screen hidden" id="editVisitScreen">
    <header class="sub-header">
      <span class="back" id="backFromEditVisit">‚Üê</span>
      <div>
        <h2>Edit Visit</h2>
        <p>Update visit details</p>
      </div>
    </header>

    <main class="form-container">
      <form id="editVisitForm" class="lead-form">
        <input type="hidden" id="editVisitId">
        <div class="form-columns">
          <div class="form-group">
            <label>Customer <span class="req">*</span></label>
            <select id="editVisitCustomer" required>
              <option value="">Select Customer</option>
              <!-- Will be populated dynamically -->
            </select>
          </div>
          
          <div class="form-group">
            <label>Visit Date <span class="req">*</span></label>
            <input type="date" id="editVisitDate" required>
          </div>
          
          <div class="form-group">
            <label>Visit Time <span class="req">*</span></label>
            <input type="time" id="editVisitTime" required>
          </div>
          
          <div class="form-group">
            <label>Purpose <span class="req">*</span></label>
            <select id="editVisitPurpose" required>
              <option value="">Select Purpose</option>
              <option value="demo">Product Demo</option>
              <option value="meeting">Business Meeting</option>
              <option value="review">Quarterly Review</option>
              <option value="support">Support Visit</option>
              <option value="other">Other</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Location <span class="req">*</span></label>
            <input type="text" id="editVisitLocation" required placeholder="Client Office, City">
          </div>
          
          <div class="form-group">
            <label>Duration</label>
            <select id="editVisitDuration">
              <option value="1">1 hour</option>
              <option value="1.5">1.5 hours</option>
              <option value="2">2 hours</option>
              <option value="3">3 hours</option>
              <option value="4">4+ hours</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Status</label>
            <select id="editVisitStatus">
              <option value="scheduled">Scheduled</option>
              <option value="completed">Completed</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
          
          <div class="form-group full-width">
            <label>Attendees</label>
            <input type="text" id="editVisitAttendees" placeholder="Names separated by commas">
          </div>
          
          <div class="form-group full-width">
            <label>Notes</label>
            <textarea id="editVisitNotes" rows="3" placeholder="Visit notes and observations..."></textarea>
          </div>
          
          <div class="form-group">
            <label>Follow-up Action</label>
            <input type="text" id="editVisitFollowUp" placeholder="Action required after visit">
          </div>
          
          <div class="form-group">
            <label>Follow-up Date</label>
            <input type="date" id="editVisitFollowUpDate">
          </div>
          
          <div class="form-group">
            <label>Travel Cost</label>
            <div class="currency-input">
              <span class="currency-symbol">‚Çπ</span>
              <input type="number" id="editVisitCost" placeholder="0">
            </div>
          </div>
          
          <div class="form-group">
            <label>Outcome</label>
            <select id="editVisitOutcome">
              <option value="">Select Outcome</option>
              <option value="positive">Positive</option>
              <option value="neutral">Neutral</option>
              <option value="negative">Negative</option>
            </select>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelEditVisit">Cancel</button>
          <button type="submit" class="btn btn-primary">Update Visit</button>
        </div>
      </form>
    </main>
  </section>

  <!-- ADD EVENT MODAL -->
  <div class="modal hidden" id="addEventModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add New Event</h3>
        <button class="close-modal" id="closeEventModal">√ó</button>
      </div>
      <div class="modal-body">
        <form id="addEventForm">
          <div class="form-group">
            <label>Event Title <span class="req">*</span></label>
            <input type="text" id="eventTitle" required placeholder="Meeting with client">
          </div>
          
          <div class="form-group">
            <label>Date <span class="req">*</span></label>
            <input type="date" id="eventDate" required>
          </div>
          
          <div class="form-group">
            <label>Start Time <span class="req">*</span></label>
            <input type="time" id="eventStartTime" required>
          </div>
          
          <div class="form-group">
            <label>End Time</label>
            <input type="time" id="eventEndTime">
          </div>
          
          <div class="form-group">
            <label>Type</label>
            <select id="eventType">
              <option value="meeting">Meeting</option>
              <option value="call">Call</option>
              <option value="video">Video Conference</option>
              <option value="task">Task</option>
              <option value="reminder">Reminder</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Description</label>
            <textarea id="eventDescription" rows="3" placeholder="Event details..."></textarea>
          </div>
          
          <div class="form-group">
            <label>Attendees</label>
            <input type="text" id="eventAttendees" placeholder="Names separated by commas">
          </div>
          
          <div class="form-group">
            <label>Location</label>
            <input type="text" id="eventLocation" placeholder="Meeting room or link">
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" id="cancelEventForm">Cancel</button>
            <button type="submit" class="btn btn-primary">Add Event</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- CHAT MODAL -->
  <div class="chat-modal hidden" id="chatModal">
    <div class="chat-header">
      <h4>AI Sales Assistant</h4>
      <button class="close-chat" id="closeChatBtn">√ó</button>
    </div>
    <div class="chat-messages" id="chatMessages">
      <div class="chat-message ai">
        <div class="message-avatar">ü§ñ</div>
        <div class="message-content">
          <p>Hi! I'm your SalesBuddy assistant. How can I help you today?</p>
        </div>
      </div>
    </div>
    <div class="chat-input">
      <input type="text" placeholder="Type your message..." id="chatInput">
      <button id="sendMessageBtn"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <!-- BOTTOM NAV -->
  <nav>
    <div class="nav-item active" id="navHome">
      <i class="fas fa-home"></i>
      <span>Home</span>
    </div>
    <div class="nav-item" id="navPlanner">
      <i class="fas fa-calendar-alt"></i>
      <span>Planner</span>
    </div>
    <div class="nav-item fab-nav-item" id="navFab">
      <div class="nav-fab">
        <i class="fas fa-plus"></i>
      </div>
    </div>
    <div class="nav-item" id="navIdeas">
      <i class="fas fa-lightbulb"></i>
      <span>Ideas</span>
    </div>
    <div class="nav-item" id="navSettings">
      <i class="fas fa-cog"></i>
      <span>Settings</span>
    </div>
  </nav>

</div>

<script src="script.js"></script>
</body>
</html>